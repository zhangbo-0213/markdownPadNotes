## 设计模式笔记 ##
### UML类图 ###
![](https://i.imgur.com/hGOUFKY.png)        
“动物矩形框”代表类，类图分三层：         
第一层：类名（如果为抽象类，则用希斜体表示）        
第二层：类的特性，通常为字段和属性       
第三层：类的操作，通常为方法或行为        
成员前 + 表示为public; - 表示为 private; # 表示为 protected       

“飞翔矩形框”代表借接口 ，分为两层：   
第一层：接口名称 带有 interface    
第二层：接口方法        
接口另一种标识方法：棒棒糖表示法   （讲人话接口）        

**类之间的继承关系用**：空心三角形+实线表示       
**接口的实现关系**：空心三角形+虚线表示       
**关联关系**：实线箭头表示（关联关系：一个类的实现需要知道另一个类）     
**聚合关系**：空心菱形+实线箭头（聚合关系：代表一种“弱拥有关系”，对象A可以包含B，但B对象不是A的一部分）     
**组合关系**：实心菱形+实线箭头（组合关系：代表一种”强拥有关系“，严格体现部分与整体的关系，且部分与整体具有相同的生命周期，例如 鸟与翅膀，组合关系两端的连线会有数字，表明对应端的类可以有几个实例）                  
**依赖关系**：通过虚线箭头表示（依赖关系：一个类的实现依赖于另一个类）           

### 1. 简单工厂模式 ###
简单工厂模式：通过一个单独的类来管理类的实例化过程，这个类充当“工厂”角色，负责生产产品。         
![](https://i.imgur.com/LZKmGX1.png)         
这里的OperationFactory(提供了CreateOperation静态方法)负责管理Operation的子类实例化过程，通过多态，返回父类的方式，充当工厂角色。当有新的操作产生，添加相应的Operation子类，并在OperationFactory中的CreateOperation方法中添加相应的对象生成过程。           
### 2.策略模式 ###
策略模式：定义了算法家族，分别封装起来，让他们之间可以相互替换，此模式让算法的变化，不会影响到使用算法的客户。       
![](https://i.imgur.com/m0R8zz1.png)     
策略模式是一种定义一系列算法的方法，从概念上看，所有的算法完成相同的工作，只是实现方式不同，策略模式以相同的方式（这个相同的方式是通过Context类中提供的算法共同的行为）调用所有的算法，减少各种算法与使用算法之间的耦合程度。      
策略模式中的Strategy类层次为Context定义了一系列供重用的算法或行为，继承有助于提取出这些算法中的公共功能。     
同时，策略模式简化了单元测试，每一个算法都有自己的类，可以对自己的接口进行单独测试。                         
![](https://i.imgur.com/rvp2hit.png)       
基本的策略模式中，选择所用算法的具体实现的职责由客户端承担，并转给Context对象，而将策略模式与简单工厂模式相结合后，选择的具体实现职责可以由Context对象来承担，减轻客户端的职责。                           
将简单工厂模式与策略模式相结合，这样可以避免在使用这些行为的类中（此例中为客户端）进行条件判断语句。策略模式将这种变化的选择过程进行了封装。        
同时在此例中通过Context类管理超类的一个实例，客户端只需知道Context一个类即可，而无需像简单工厂模式需要知道超类和工厂类，Context对Strategy不同对象的生成再次进行了封装，因此，客户端只需知道Context一个类。             
