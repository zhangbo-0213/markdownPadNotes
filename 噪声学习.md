# 噪声实现学习笔记 #
学习过程来源于：
[https://blog.csdn.net/candycat1992/article/details/50346469](https://blog.csdn.net/candycat1992/article/details/50346469)
噪声在Shader中十分常见，使用噪声是为了加入随机性，使表现过程不是那么有规律，例如火焰，云朵，地形等模拟。由于通过随机函数来获取的随机值分布十分均匀，如：     
![](https://i.imgur.com/iZioBff.png)          
这种由随机函数生成的噪声图称为"白噪声"，而白噪声用来表现诸如火焰，云朵，地形等并不是非常合适，因为这些形状实际上是由多个不同层级的随机过程叠加的，比如地形，在起伏上既有大的山脉，同时也有起伏很小的山丘，并不是在相对平均的高度上随机起伏。为此才出现了通过程序生成不同的噪声去模拟自然界中的这些过程。

在需要使用噪声的时候，通过噪声函数来获取对应输入的输出，例如：       

	value_type noise(value input){
		...
	}    
这里的噪声函数输入和输出可以是不同维数的组合，输入二维输出一维，输入二维输出二维等。根据噪声的不同分类，这里的噪声函数的实现也不相同。     

**噪声分类**        
由程序生成的噪声按照类别分类为：            
![](https://i.imgur.com/lOCXZ66.png)        
 
不同的噪声用来模拟不同效果和用途：       
Perlin噪声被大量用于云朵、火焰和地形等自然环境的模拟；      
Simplex在Perlin噪声基础上进行了改进，提高计算效率；   
Worley噪声被用于模拟一些多孔的结构，如纸张、木纹等。

除了上述分类中提到的噪声，还有一种叫做FBM的噪声函数，FBM是分型布朗运动的缩写(Fractal Brownian Motion)，也可以等同看做是分型噪声。FBM与之前分类提到的基础噪声函数（Perlin噪声，Simplex噪声，Value噪声，白噪声等）之间的关系：FBM是由多个不同频率，不同振幅的基础噪声函数之间相互进行叠加形成。频率是指计算噪声时的采样距离，如基于晶格的噪声，频率越高，单位面积内的晶格数目越多，噪声纹理看起来"越密集",振幅则是噪声函数的值域范围。基础噪声与对应的FBM后的效果：     
![](https://i.imgur.com/JV0CNyb.png)         

这些基础噪声在性能耗费上满足：       
Perlin噪声>Value噪声>Simplex噪声，Simplex噪声性能耗费最小。Perlin噪声和Value噪声的复杂度为O(2^n)，n为空间维数，Perlin噪声比Value耗费大的原因在于Perlin噪声需要进行更多的点乘操作。Simplex的噪声复杂度为O(n^2)，Sinplex噪声在高维度上的优化尤为明显。      

使用上，Perlin噪声，Value噪声和Simplex以及FBM噪声使用较为常见。